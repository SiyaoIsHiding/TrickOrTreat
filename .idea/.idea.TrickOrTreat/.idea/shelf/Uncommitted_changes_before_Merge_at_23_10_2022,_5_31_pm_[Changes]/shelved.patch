Index: Assets/Scripts/ScoreBoard.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing TMPro;\n\npublic class ScoreBoard : MonoBehaviour\n{\n\n    [Header(\"Starting Values\")]\n\n    public int happyKidCounter;\n    public int candyCounter;\n    [Space(10)]\n\n    [Header(\"UI Text Boxes\")]\n\n    public TextMeshProUGUI kidCountText;\n    public TextMeshProUGUI candyCountText;\n\n    // Start is called before the first frame update\n    void Start()\n    {\n\n        kidCountText.text = \"Happy Kid Counter: \" + happyKidCounter.ToString();\n        candyCountText.text = \"Candies: \" + candyCounter.ToString();\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        \n    }\n\n    public int GetKidCounter(){\n        return happyKidCounter;\n    }\n    public int GetCandyCounter(){\n        return candyCounter;\n    }\n\n    public void DecreaseCandyCounter(int candyNum)\n    {\n        candyCounter -= candyNum;\n        UpdateCounters();\n    }\n\n    public void IncreaseKidCounter(int kidNum)\n    {\n        happyKidCounter += kidNum;\n        UpdateCounters();\n    }\n\n    public void UpdateCounters()\n    {\n        kidCountText.text = \"Happy Kid Counter: \" + happyKidCounter.ToString();\n        candyCountText.text = \"Candies: \" + candyCounter.ToString();\n    }\n\n    /*\n    public void KidHasLeft(Kid kid)\n    {\n\n        if (kid.NumCandyHolding == 1 || !kid.ShownUp)\n        {\n            if (kid.Sprayed)\n            {\n                DecreaseCandyCounter(5);\n            }\n            else\n            {\n                \n            }\n        }\n        else\n        {\n            \n        }\n        \n        else if(kid.)\n    }\n    */\n    \n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Assets/Scripts/ScoreBoard.cs b/Assets/Scripts/ScoreBoard.cs
--- a/Assets/Scripts/ScoreBoard.cs	(revision 09b37ff1852809731fa772f82e5871650bb9b1ce)
+++ b/Assets/Scripts/ScoreBoard.cs	(date 1666571398023)
@@ -56,7 +56,7 @@
         candyCountText.text = "Candies: " + candyCounter.ToString();
     }
 
-    /*
+
     public void KidHasLeft(Kid kid)
     {
 
@@ -78,6 +78,6 @@
         
         else if(kid.)
     }
-    */
+
     
 }
Index: Assets/Scripts/KidsController.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing TMPro;\nusing UnityEngine;\nusing UnityEngine.Serialization;\nusing Random = System.Random;\n\npublic class KidsController : MonoBehaviour\n{\n    \n    private static KidsController instance;\n    [FormerlySerializedAs(\"_kidPrefab\")] public GameObject kidPrefab;\n    \n    public Sprite[] AllSprites;\n    public List<int> KidsAliveIndex = new List<int>();\n\n    public List<Kid> NewKids = KidStore.newKids;\n    public List<Kid> OldKids = KidStore.oldKids;\n\n\n    static public Kid[] WhoAreComing()\n    {\n        // will return only one now\n        Kid kid = KidStore.allKids[instance.KidsAliveIndex[0]];\n        return new Kid[] {kid};\n    }\n\n\n    static public void Spray()\n    {\n        \n    }\n\n    static public void KidInvisible(int kidId)\n    {\n        instance.KidsAliveIndex.Remove(kidId);\n        // TODO: check whether all kidsGO invisible\n        KidStore.KidReturn(kidId);\n        instance.sendNewKids();\n    }\n\n    private void sendNewKids()\n    {\n        \n        \n        int[] newKidsIndex = KidStore.ChooseKidsComing(); // assume only 1\n        int thisKidIndex = newKidsIndex[0];\n        GameObject thisKidGO = Instantiate(kidPrefab, this.transform);\n        thisKidGO.GetComponent<KidMovement>().associatedKid = KidStore.allKids[thisKidIndex];\n        KidsAliveIndex.Add(thisKidIndex);\n        KidsChangeSprites(thisKidGO, thisKidIndex);\n        Debug.Log(\"Newkids: \"+string.Join(\",\", NewKids));\n        Debug.Log(\"Oldkids: \"+string.Join(\",\", OldKids));\n    }\n\n    void Start()\n    {\n        instance = this;\n        sendNewKids();\n    }\n\n    void Update()\n    {\n\n    }\n    \n\n    private void KidsChangeSprites(GameObject kidGO, int kidIndex)\n    {\n        kidGO.transform.GetChild(0).GetComponent<SpriteRenderer>().sprite = AllSprites[kidIndex];\n    }\n    \n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Assets/Scripts/KidsController.cs b/Assets/Scripts/KidsController.cs
--- a/Assets/Scripts/KidsController.cs	(revision 09b37ff1852809731fa772f82e5871650bb9b1ce)
+++ b/Assets/Scripts/KidsController.cs	(date 1666571346859)
@@ -29,7 +29,10 @@
 
     static public void Spray()
     {
-        
+        // Only one now
+        Kid kid = KidStore.allKids[instance.KidsAliveIndex[0]];
+        kid.Sprayed = true;
+        KidStore.Spray(kid.id);
     }
 
     static public void KidInvisible(int kidId)
Index: .idea/.idea.TrickOrTreat/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"fa0350b9-b1dc-4acf-9adc-d079d388113e\" name=\"Changes\" comment=\"\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/.idea.TrickOrTreat/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/.idea.TrickOrTreat/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Assets/Scripts/ScoreBoard.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Assets/Scripts/ScoreBoard.cs\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Assets/Scripts/States/TakeCandy.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Assets/Scripts/States/TakeCandy.cs\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\n      <map>\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\n      </map>\n    </option>\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProblemsViewState\">\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2GTS0Rs2yl9h9GBjuyX7jpW1fwA\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\n    &quot;ASKED_SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\n    &quot;Discover.Launch.Via.Unity&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.environmentSetup&quot;,\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\n  }\n}</component>\n  <component name=\"RunManager\" selected=\"Attach to Unity Editor.Unnamed\">\n    <configuration name=\"UnitTests (batch mode)\" type=\"RunUnityExe\" factoryName=\"Unity Executable\">\n      <option name=\"EXE_PATH\" value=\"$PROJECT_DIR$/../../Unity Editor/2021.3.11f1/Unity.app/Contents/MacOS/Unity\" />\n      <option name=\"PROGRAM_PARAMETERS\" value=\"-runTests -batchmode -projectPath $PROJECT_DIR$ -testResults Logs/results.xml -testPlatform EditMode -debugCodeOptimization\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"PASS_PARENT_ENVS\" value=\"1\" />\n      <option name=\"USE_EXTERNAL_CONSOLE\" value=\"0\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"Attach to Unity Editor &amp; Play\" type=\"UNITY_DEBUG_RUN_CONFIGURATION\" factoryName=\"UNITY_ATTACH_AND_PLAY\" show_console_on_std_err=\"false\" show_console_on_std_out=\"false\" port=\"50000\" address=\"localhost\">\n      <option name=\"allowRunningInParallel\" value=\"false\" />\n      <option name=\"listenPortForConnections\" value=\"false\" />\n      <option name=\"pid\" />\n      <option name=\"projectPathOnTarget\" />\n      <option name=\"selectedOptions\">\n        <list />\n      </option>\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"Unnamed\" type=\"UNITY_DEBUG_RUN_CONFIGURATION\" factoryName=\"Unity Debug\" nameIsGenerated=\"true\" show_console_on_std_err=\"false\" show_console_on_std_out=\"false\" port=\"50000\" address=\"localhost\">\n      <option name=\"allowRunningInParallel\" value=\"false\" />\n      <option name=\"listenPortForConnections\" value=\"false\" />\n      <option name=\"pid\" />\n      <option name=\"projectPathOnTarget\" />\n      <option name=\"selectedOptions\">\n        <list />\n      </option>\n      <method v=\"2\" />\n    </configuration>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"fa0350b9-b1dc-4acf-9adc-d079d388113e\" name=\"Changes\" comment=\"\" />\n      <created>1666410860859</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1666410860859</updated>\n      <workItem from=\"1666410867286\" duration=\"2831000\" />\n      <workItem from=\"1666414205202\" duration=\"548000\" />\n      <workItem from=\"1666415105017\" duration=\"3740000\" />\n      <workItem from=\"1666423382167\" duration=\"353000\" />\n      <workItem from=\"1666455038960\" duration=\"663000\" />\n      <workItem from=\"1666455724406\" duration=\"7138000\" />\n      <workItem from=\"1666466865306\" duration=\"325000\" />\n      <workItem from=\"1666467207150\" duration=\"4591000\" />\n      <workItem from=\"1666475228371\" duration=\"7113000\" />\n      <workItem from=\"1666495471064\" duration=\"2995000\" />\n      <workItem from=\"1666539660954\" duration=\"2178000\" />\n      <workItem from=\"1666543144972\" duration=\"6971000\" />\n      <workItem from=\"1666554903331\" duration=\"2151000\" />\n      <workItem from=\"1666558251808\" duration=\"6843000\" />\n      <workItem from=\"1666567048724\" duration=\"2858000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"Kid\">\n      <created>1666412048578</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1666412048578</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"KidsController\">\n      <created>1666417877276</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1666417877276</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"algorithm between new and old\">\n      <created>1666565537574</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1666565537574</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"Rand Num Candy\">\n      <created>1666568057317</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1666568057318</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"Merge Two scene\">\n      <created>1666568884412</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1666568884413</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"6\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"UnityCheckinConfiguration\" checkUnsavedScenes=\"true\" />\n  <component name=\"UnityProjectConfiguration\" hasMinimizedUI=\"true\" />\n  <component name=\"UnityUnitTestConfiguration\" currentTestLauncher=\"EditMode\" />\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\n    <option name=\"CLEAR_INITIAL_COMMIT_MESSAGE\" value=\"true\" />\n    <MESSAGE value=\"Kid\" />\n    <MESSAGE value=\"KidsController\" />\n    <MESSAGE value=\"MainScene\" />\n    <MESSAGE value=\"algorithm between new and old\" />\n    <MESSAGE value=\"Rand Num Candy\" />\n    <MESSAGE value=\"Merge Two scene\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Merge Two scene\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/.idea.TrickOrTreat/.idea/workspace.xml b/.idea/.idea.TrickOrTreat/.idea/workspace.xml
--- a/.idea/.idea.TrickOrTreat/.idea/workspace.xml	(revision 09b37ff1852809731fa772f82e5871650bb9b1ce)
+++ b/.idea/.idea.TrickOrTreat/.idea/workspace.xml	(date 1666571357651)
@@ -2,9 +2,7 @@
 <project version="4">
   <component name="ChangeListManager">
     <list default="true" id="fa0350b9-b1dc-4acf-9adc-d079d388113e" name="Changes" comment="">
-      <change beforePath="$PROJECT_DIR$/.idea/.idea.TrickOrTreat/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/.idea.TrickOrTreat/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Assets/Scripts/ScoreBoard.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Assets/Scripts/ScoreBoard.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Assets/Scripts/States/TakeCandy.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Assets/Scripts/States/TakeCandy.cs" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Assets/Scripts/KidsController.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Assets/Scripts/KidsController.cs" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -98,6 +96,7 @@
       <workItem from="1666554903331" duration="2151000" />
       <workItem from="1666558251808" duration="6843000" />
       <workItem from="1666567048724" duration="2858000" />
+      <workItem from="1666571012964" duration="299000" />
     </task>
     <task id="LOCAL-00001" summary="Kid">
       <created>1666412048578</created>
